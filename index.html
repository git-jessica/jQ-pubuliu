<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
body{
    margin: 0;
    padding: 0;
    font-family: "Microsoft Yahei";
    background: #f5f5f5;
}
.container{
    width: 1200px;
    margin: 0 auto;
    padding-top: 40px;
}
.container > .items {
    position: relative;
}
.container > .items > .item {
    width: 232px;
    position: absolute;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}
/*目的是固定高度且不一样*/
.container > .items > .item > img {
    width: 100%;
    display: block;
    height: 250px/*目的是固定高度且不一样*/
}
.container > .items > .item > p {
    margin: 0;
    padding: 10px;
    background: #fff;
}
.container > .btn {
    width: 280px;
    height: 40px;
    margin: 30px auto;
    text-align: center;
    line-height: 40px;
    background-color: #CCC;
    border-radius: 6px;
    font-size: 24px;
    cursor: pointer;
}
.container > .loading {
    background-color: transparent;
}
</style>
<body>
<div class="container">
    <div class="items">
            <div class="item">
                <img src="images/1.jpg" alt="">
                <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
            </div>
            <div class="item">
                <img src="images/2.jpg" alt="">
                <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
            </div>
            <div class="item">
                <img src="images/3.jpg" alt="">
                <p>花非花，雾非雾，夜半来，天明去，来如春梦来如春梦不多时，去似朝云无觅处。</p>
            </div>
            <div class="item">
                <img src="images/4.jpg" alt="">
                <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，去，来如春梦不多时，去似朝云无觅处。</p>
            </div>
            <div class="item">
                <img src="images/5.jpg" alt="">
                <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
            </div>
            <div class="item">
                <img src="images/6.jpg" alt="">
                <p>花非花，雾非雾，夜半来，天明去，来如春梦来如春梦不多时，去似朝云无觅处。</p>
            </div>
            <div class="item">
                <img src="images/7.jpg" alt="">
                <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，去，来如春梦不多时，去似朝云无觅处。</p>
            </div>
            <div class="item">
                <img src="images/8.jpg" alt="">
                <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
            </div>
            <div class="item">
                <img src="images/9.jpg" alt="">
                <p>花非花，雾非雾，夜半来，天明去，来如春梦来如春梦不多时，去似朝云无觅处。</p>
            </div>
            <div class="item">
                <img src="images/10.jpg" alt="">
                <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，去，来如春梦不多时，去似朝云无觅处。</p>
            </div>
            <div class="item">
                <img src="images/11.jpg" alt="">
                <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/12.jpg" alt="">
                 <p>花非花，雾非雾，夜半来，天明去，来如春梦来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/1%20(1).jpg" alt="">
                 <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/1%20(2).jpg" alt="">
                 <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/1%20(3).jpg" alt="">
                 <p>花非花，雾非雾，夜半来，天明去，来如春梦来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/1%20(4).jpg" alt="">
                 <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/1%20(5).jpg" alt="">
                 <p>，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/1%20(6).jpg" alt="">
                 <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/1%20(7).jpg" alt="">
                 <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/1%20(8).jpg" alt="">
                 <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/1%20(9).jpg" alt="">
                 <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/1%20(10).jpg" alt="">
                 <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/1%20(11).jpg" alt="">
                 <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/1%20(12).jpg" alt="">
                 <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/3.jpg" alt="">
                 <p>花非花云无觅处。花非花，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/13.jpg" alt="">
                 <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
             <div class="item">
                 <img src="images/1.jpg" alt="">
                 <p>花非花，雾非雾，夜半来，天明去，来如春梦不多时，去似朝云无觅处。花非花，雾非雾，夜半来，天明去，，夜半来，天明去，，夜半来，天明去，来如春梦不多时，去似朝云无觅处。</p>
             </div>
         </div>
         <div class="btn loading">正在加载中...</div>
     </div>

<script src="jquery.min.js"></script>
<script>
//    (function ($) {
//        $.fn.extend({
//            color:function (options) {
//                var defaults={width:'20px',height:"30px",backgroundColor:"black"};
//                options=$.extend({},defaults,options);
//                return $(this).each(function () {
//                    $(this).css({"width":options.width});
//                    $(this).css({"height":options.height});
//                    $(this).css({"backgroundColor":options.backgroundColor})
//                })
//            }
//        })
//    })(window.jQuery)
//
//    $(".afters").color({width:'200px',height:"500px",backgroundColor:"black"})

//    瀑布流插件
    (function($){
        $.fn.extend({
//            初始化的元素设定的是大容器
            WaterFall:function(){
                var $parentBox=$(this);
                var parentWidth=$parentBox.width();//大容器的宽度
                var $itemsbox=$parentBox.children();//所有的子容器
                var itemsWidth=$itemsbox.width();//子容器的宽度
                var col=5;//列数
                var space=(parentWidth-col*itemsWidth)/(col-1);//间距
                
//                记录每一列的高度
                var arrHeight=[];
                $itemsbox.each(function(index,item){
//                    每一个子容器
                    var $item=$(item)
                    if(index<col){
//                        记录arrHeight
                        arrHeight[index]=$item.height();
                        $item.css({top:'0',left:(itemsWidth+space)*index})
                    }else{
//                        其他的子容器找到最矮的一列，当前这列的高度和索引
                        var minHeight=arrHeight[0];
                        var minIndex=0;
                        for (var i = 0; i <arrHeight.length; i++) {
                          if(minHeight>arrHeight[i]){
                              minHeight=arrHeight[i];
                              minIndex=i;
                          }
                        }

                        //                              定位
                        $item.css({top:minHeight+space,left:minIndex*(itemsWidth+space)});
                        arrHeight[minIndex]=minHeight+space+$item.height();

                    }
                })

//赋值高度
            var maxHeight=arrHeight[0];
                for (var i = 0; i <arrHeight.length; i++) {
                    if(maxHeight<arrHeight[i]){
                        maxHeight=arrHeight[i];
                    }
                }
            $parentBox.Height(maxHeight);

            }
        })
    })(window.jQuery)


        $('.items').WaterFall();
</script>

</body>
</html>